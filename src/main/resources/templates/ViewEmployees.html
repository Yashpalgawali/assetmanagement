<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<link href="#" rel="shortcut icon">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js">   </script>
	 
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">
  	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
  	
  		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css" />
  	
<!--   	<script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js" ></script> -->
<!--   	<link href="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.min.css" rel="stylesheet"/> -->
  
  	<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
		<script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap4.min.js"></script>
		<script src="https://cdn.datatables.net/responsive/2.2.9/js/dataTables.responsive.min.js"></script>
		<script src="https://cdn.datatables.net/responsive/2.2.9/js/responsive.bootstrap4.min.js"></script>
		<link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap4.min.css" />
		<link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.9/css/responsive.bootstrap4.min.css" />
		
  	
  	<link th:href="@{/css/main.css}" rel="stylesheet">
  	  	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.2/css/all.min.css"  />
  	
  
<title>View Employees</title>

<script>
			$(document).ready(function(){
				
				$('#viewemptable').DataTable({
					responsive	:	true
				});
			});
</script>
</head>
<body>
		
	<div th:include="fragments/header.html :: header">
	</div>	
		
	<div class="container">
		
		<div th:if="${response}">
			<h6 class="alert alert-success" th:text="${response}"></h6>
		</div>
		
		<div th:if="${reserr}">
			<h6 class="alert alert-danger" th:text="${reserr}"></h6>
		</div>
		
		<div class="form-group">
			<a th:href="@{/addemployee}"  class="btn btn-primary mb-3">Add Employee</a>
		</div>
		<table class="table table-striped table-hover" style="width:100%;" id="viewemptable">
		    <thead>
                   <tr>
                       <th>Sr</th>
                       <th>Employee</th>
                       <th>Designation</th>
                   
                       <th>Email</th>
                       <th>Contact</th>
                       <th>Department</th>
                       <th>Company</th>
                       <th>Action</th>
                   </tr>
               </thead>
               <tbody>
                   <tr th:each="emp : ${elist}">
                       <td th:text="${empStat.count}"></td>
                       <td th:text="${emp.emp_name}"></td>
                       <td th:text="${emp.designation.desig_name}"></td>
                       <td th:text="${emp.emp_email}"></td>
                       <td th:text="${emp.emp_contact}"></td>
					   <td th:text="${emp.department.dept_name}"></td>
					   <td th:text="${emp.company.comp_name}"></td>
		      <td>
		      		<a th:href="@{/editempassignassetbyempid/{id}(id=${emp.emp_id})}" class="btn" ><i class="fa fa-edit fa-lg"></i>Edit</a>
		      		<a th:href="@{/retrieveassetsbyempid/{id}(id=${emp.emp_id})}" class="btn " ><i class="fa fa-edit fa-lg"></i>Retrieve</a>
		      		<a th:href="@{/viewemphistbyempid/{id}(id=${emp.emp_id})}" class="btn" ><i class="fa fa-eye fa-lg"></i> History</a>
		      </td>
            </tr>
          </tbody>
		</table>
			
	</div>
		
</body>
</html>