<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link href="#" rel="shortcut icon">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js">   </script>
	 

  	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">
  	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
  	
  	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
  	
  	<link th:href="@{/css/main.css}" rel="stylesheet">
  	
  	
  	<script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js" ></script>
  	<link href="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.min.css" rel="stylesheet"/>
  
  	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.2/css/all.min.css"  />
  
<title>View Asset History</title>

<script>
	$(document).ready(function(){
		
		$('#comptable').DataTable();
	});

</script>


</head>
<body>
		
	<div th:include="fragments/header.html :: header">
	
	</div>	
		
	<div class="container">
		<!-- start: PAGE HEADER -->
					<div class="row">
						<div class="col-sm-12">
							
							<!-- start: PAGE TITLE & BREADCRUMB -->
							<ol class="breadcrumb">
								<li class="breadcrumb-item">
									
									<a th:href="@{/adminhome}">
										<i class="fa fa-home"></i>&nbsp;Home
									</a>
								</li>
								<li class="breadcrumb-item active" aria-current="page">
									View History
								</li>
								
							</ol>
						</div>
					</div>
		<div th:if="${response}">
			<h6 class="alert alert-success" th:text="${response}"></h6>
		</div>
		
		<div th:if="${reserr}">
			<h6 class="alert alert-danger" th:text="${reserr}"></h6>
		</div>
		
		<div class="card">
			<div class="card-header">
				<h4>View Asset Assign History</h4>
			</div>
		<div class="mb-2" style="margin:10px 0 0 10px;">
			
			 	<h6 style="float:left;" >Employee Name : [[${emp.emp_name}]]</h6>
			 
			 <h6 style="float:right;margin-right:10px;">Department: [[${emp.department.dept_name}]]</h6>
		</div>
		
		<div class="mb-2" style="margin:10px 0 0 10px;">
			<h6 style="float:left;">Company: [[${emp.company.comp_name}]]</h6>
		</div>	
		
		<div class="card-body">
			<div class="col-md-3"></div>
		
			<div class="table-responsive-sm" >
				<table class="table table-striped table-hover" id="comptable">
				    <thead>
		                   <tr>
		                        <th>Sr</th>
		                       	<th>Asset Type</th>
		                       	<th>Asset</th>
		                       	<th>Model Number</th>
		                       	<th>Operation Date Time</th>
		                     	<th>Operation</th>
		                   </tr>
		               </thead>
		               <tbody>
		                   <tr th:each="hist : ${ahist}">
		                       	<td th:text="${histStat.count}"></td>
		                       	<td th:text="${hist.astype.type_name}"></td>
		                       	<td th:text="${hist.asset.asset_name}"></td>
		                       	<td th:text="${hist.asset.model_number}"></td>
		                       	<td th:text="|${hist.operation_date} ${hist.operation_time}|"></td>
		                       	<td th:text="${hist.operation}"></td>
		                   </tr>
		              </tbody>
			 </table>
		  </div>
		</div>
	  </div>
	</div>
	
	<div th:replace="fragments/Footer.html :: footer">
	</div>
	
  </body>
</html>